name: Binder cache

on: [push]

# This job installs dependencies, builds the book, and pushes it to `gh-pages`
jobs:
  Serve-binder-cache:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v3

    # no impact here as repo2docker is using a container they construct
    #- name: Update curl
    #  run: |
    #    sudo apt-get update
    #    # sudo apt-get install -y libcurl-dev curl
    #    sudo apt-get install -y libcurl4-openssl-dev curl
    #    # sudo apt-get -y install curl
        
    # cache for binder
    - name: cache binder build on mybinder.org
      uses: jupyterhub/repo2docker-action@master
      with:
        NO_PUSH: true
        MYBINDERORG_TAG: ${{ github.event.ref }}
